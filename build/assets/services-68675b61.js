import{_ as z,f as r,B as q,b as G,d as O,r as U,o as i,c as n,a as h,m as J,h as e,t as o,l as c,F as C,s as $,y as L,i as N,j as b,x as K,p as Q,q as R}from"./app-9b2e2238.js";import{L as W}from"./index-5a421bd3.js";import{c as X}from"./commonApis-3c849663.js";import{P as Y}from"./Pagination-f75ee09a.js";import{N as Z}from"./NoPermission-e7874cbc.js";const y=g=>(Q("data-v-f24402e3"),g=g(),R(),g),ee={class:"sub-section server-list-tab vl-parent"},te=y(()=>e("div",{class:"d-flex justify-content-between align-items-center title-button-wrapper"},null,-1)),se={class:"row justify-content-between align-items-center"},oe={class:"row mb-5 pe-0"},ie={class:"col-md-3 sub-title"},ae={class:"col-md-9 d-flex justify-content-end pe-0 flex-wrap"},le={class:"sort-servers order-2 order-md-1"},ne={key:0,class:"sorting-items"},de={class:"nav nav-pills four-pills mb-3 mb-md-0 order-1 order-md-2 mb-lg-0 flex-nowrap",id:"pills-tab",role:"tablist"},re=["id","data-bs-target","aria-controls","aria-selected","onClick"],ce={key:0,class:"tab-content",id:"pills-tabContent"},pe=["id","aria-labelledby"],ve={class:"row mb-5"},_e={class:"card-item p-4 mb-4"},ue={class:"server-list-item"},ge={class:"server-list-item-wrapper"},me={class:"image-wrapper"},he=["src"],be={class:"list-item-detail"},fe={class:"list-name"},ye={class:"detail"},we={key:0,class:"server-list-options"},ke=y(()=>e("div",{class:"options-toggle dropdown-toggle hideIcon",style:{"padding-right":"10px","padding-left":"10px"},"data-bs-toggle":"dropdown"},null,-1)),xe={class:"options-toggle-dropdown dropdown-menu dropdown-menu-end"},Ae={key:0,class:"server-list-item"},Ce={class:"server-list-item-wrapper"},$e=y(()=>e("div",{class:"image-wrapper"},[e("img",{class:"dark-img-filter",src:"assets/img/cloud-connection.png",alt:""})],-1)),Pe={class:"list-item-detail"},Se={style:{display:"flex","justify-content":"space-between"}},Ie={class:"list-name"},Be={key:0,class:"server-list-options",style:{"z-index":"999",top:"0px !important",position:"inherit",display:"inline-block"}},Le={class:"options-toggle dropdown-toggle hideIcon",style:{"padding-right":"10px","padding-left":"10px",background:"none"},"data-bs-toggle":"dropdown"},Ne={class:"badge bg-dark"},Te=["innerHTML"],je={class:"detail"},Ve={class:"detail",style:{"margin-top":"5px"}},Fe={key:0,class:"server-list-options"},Me={class:"active-badge"},De=y(()=>e("span",{class:"active-dot"},null,-1)),Ee={class:"server-list-item"},He={class:"server-list-item-wrapper"},ze={class:"image-wrapper"},qe=["src"],Ge={class:"list-item-detail"},Oe={class:"list-name"},Ue={class:"detail"},Je={key:1},Ke={style:{"margin-top":"20px","text-align":"center"}},Qe={class:"w-100 server-list-pagination"},f=9,Re={__name:"services",setup(g){r(0);function T(t){let a=d.value;const _=(p.value.page-1)*f,s=_+f;return a[t].slice(_,s)}const j=t=>t.replace(/\n/g,"<br>"),V=t=>t==null||t==""?0:t.split(`
`).length;q.useToast();const m=r(!1),F=G(),w=O(()=>F.state.auth.user),M=X(),D=r([]),k=r([]),d=r([]),p=r({client_id:w.value.client_id,orderby:"",order:"",page:1}),v=r(!1),x=r(1);function E(t){p.value.page=t}const H=t=>{let a=d.value;x.value=Math.ceil(a[t].length/f)},P=()=>{v.value=!0,M.runGetApi("/servers",p.value).then(t=>{v.value=!1,m.value=!1,D.value=t.data.products,k.value=t.data.states,d.value=t.data.state_order;let a=d.value;x.value=Math.ceil(a.Active.length/f)}).catch(t=>{console.log(t),v.value=!1})};function S(t,a){p.value.orderby=t,P()}return P(),(t,a)=>{const _=U("router-link");return i(),n("div",ee,[h(J(W),{active:v.value,"onUpdate:active":a[0]||(a[0]=s=>v.value=s),"is-full-page":!1},null,8,["active"]),te,e("div",se,[e("div",oe,[e("h3",ie,o(t.$t("services_title")),1),e("div",ae,[e("div",le,[e("div",{id:"toggleButton",class:"sort-item-active btn-chevron chevron-dark",onClick:a[1]||(a[1]=s=>m.value=!m.value)},[e("span",null,o(t.$t("Sort_by_name")),1)]),m.value?(i(),n("div",ne,[e("ul",null,[e("li",{onClick:a[2]||(a[2]=s=>S("regdate"))},o(t.$t("Created_date")),1),e("li",{onClick:a[3]||(a[3]=s=>S("nextduedate"))},o(t.$t("Expiration_date")),1)])])):c("",!0)]),e("ul",de,[(i(!0),n(C,null,$(k.value,s=>{var u;return i(),n("li",{key:s,class:"nav-item",role:"presentation"},[(u=d.value)!=null&&u[s]&&s!="Fraud"?(i(),n("button",{key:0,class:L(["nav-link",s==="Active"?"active":""]),id:"pills-"+s+"-tab","data-bs-toggle":"pill","data-bs-target":"#pills-"+s,type:"button",role:"tab","aria-controls":"pills-"+s,"aria-selected":s==="Active",onClick:A=>H(s)},o(t.$t(s)),11,re)):c("",!0)])}),128))])])]),w.value&&w.value.permissions.split(",").includes("products")?(i(),n("div",ce,[(i(!0),n(C,null,$(k.value,s=>{var u,A,I,B;return i(),n("div",{key:s,class:L(["tab-pane",{fade:s!=="Active"},{"show active":s==="Active"}]),id:"pills-"+s,role:"tabpanel","aria-labelledby":"pills-"+s+"-tab"},[e("div",ve,[(u=d.value)!=null&&u[s]?(i(!0),n(C,{key:0},$(T(s),l=>(i(),n("div",{key:l.orderid,class:"col-12 col-lg-4 col-md-6 col-sm-12"},[e("div",_e,[e("div",ue,[e("div",ge,[e("div",me,[e("img",{src:"assets/img/"+l.sys_log+"-logo.png",alt:""},null,8,he)]),e("div",be,[e("h2",fe,o(l.name),1),e("h3",ye,o(l.configoptions.configoption[1].value),1),s!=="Cancelled"?(i(),n("div",we,[ke,e("div",xe,[e("ul",null,[e("li",null,[h(_,{class:"logo-wrapper d-flex align-items-center col-md-2 text-dark text-decoration-none order-lg-1",to:{name:"overview",params:{id:l.orderid,tab:"overview"}}},{default:N(()=>[b(o(t.$t("Launch_Control_Panel")),1)]),_:2},1032,["to"])]),e("li",null,[h(_,{class:"logo-wrapper d-flex align-items-center col-md-2 text-dark text-decoration-none order-lg-1",to:{name:"overview",params:{id:l.orderid,tab:"invoice"}}},{default:N(()=>[b(o(t.$t("View_Invoices")),1)]),_:2},1032,["to"])])])])])):c("",!0)])])]),s==="Active"?(i(),n("div",Ae,[e("div",Ce,[$e,e("div",Pe,[e("div",Se,[e("h2",Ie,[b(o(l.dedicatedip)+" ",1),l.assignedips?(i(),n("div",Be,[e("div",Le,[e("span",Ne,o(V(l.assignedips)),1)]),e("div",{class:"options-toggle-dropdown dropdown-menu dropdown-menu-end",style:{padding:"10px !important","box-shadow":"2px 3px 2px rgb(200,200,200)"},innerHTML:j(l.assignedips)},null,8,Te)])):c("",!0)])]),e("h3",je,o(t.$t("Created_at"))+" "+o(l.regdate),1),e("h3",Ve,o(t.$t("Due_date_at"))+" Â "+o(l.nextduedate),1)]),s==="Active"?(i(),n("div",Fe,[e("button",Me,[De,b(o(t.$t("Active")),1)])])):c("",!0)])])):c("",!0),e("div",Ee,[e("div",He,[e("div",ze,[e("img",{src:"assets/img/"+l.flag+".png",alt:""},null,8,qe)]),e("div",Ge,[e("h2",Oe,o(l.groupname),1),e("h3",Ue,o(t.$t("Hostname"))+" : "+o(l.domain),1)])])])])]))),128)):c("",!0),s==="Active"&&(!((A=d.value)!=null&&A[s])||((B=(I=d.value)==null?void 0:I[s])==null?void 0:B.length)===0)?(i(),n("div",Je,[e("h5",Ke,o(t.$t("No_Active_Product")),1)])):c("",!0)])],10,pe)}),128))])):(i(),K(Z,{key:1}))]),e("div",Qe,[h(Y,{currentPage:p.value.page,totalPages:x.value,onPageChanged:E},null,8,["currentPage","totalPages"])])])}}},tt=z(Re,[["__scopeId","data-v-f24402e3"]]);export{tt as S};
