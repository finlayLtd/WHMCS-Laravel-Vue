import{_ as z,e as L,f as r,B as q,b as G,d as O,r as J,o as i,c as n,a as h,m as K,h as e,t as o,l as c,F as C,s as $,y as N,i as T,j as b,x as Q,p as R,q as W}from"./app-4c139354.js";import{L as X}from"./index-71683c7d.js";import{c as Y}from"./commonApis-405e0354.js";import{P as Z}from"./Pagination-be932247.js";import{N as ee}from"./NoPermission-94ce4803.js";const y=g=>(R("data-v-9c37c0fb"),g=g(),W(),g),te={class:"sub-section server-list-tab vl-parent"},se=y(()=>e("div",{class:"d-flex justify-content-between align-items-center title-button-wrapper"},null,-1)),oe={class:"row justify-content-between align-items-center"},ie={class:"row mb-5 pe-0"},ae={class:"col-md-3 sub-title"},le={class:"col-md-9 d-flex justify-content-end pe-0 flex-wrap"},ne={class:"sort-servers order-2 order-md-1"},de={key:0,class:"sorting-items"},re={class:"nav nav-pills four-pills mb-3 mb-md-0 order-1 order-md-2 mb-lg-0 flex-nowrap",id:"pills-tab",role:"tablist"},ce=["id","data-bs-target","aria-controls","aria-selected","onClick"],pe={key:0,class:"tab-content",id:"pills-tabContent"},ve=["id","aria-labelledby"],ue={class:"row mb-5"},_e={class:"card-item p-4 mb-4"},ge={class:"server-list-item"},me={class:"server-list-item-wrapper"},he={class:"image-wrapper"},be=["src"],fe={class:"list-item-detail"},ye={class:"list-name"},we={class:"detail"},ke={key:0,class:"server-list-options"},xe=y(()=>e("div",{class:"options-toggle dropdown-toggle hideIcon",style:{"padding-right":"10px","padding-left":"10px"},"data-bs-toggle":"dropdown"},null,-1)),Ae={class:"options-toggle-dropdown dropdown-menu dropdown-menu-end"},Ce={key:0,class:"server-list-item"},$e={class:"server-list-item-wrapper"},Pe=y(()=>e("div",{class:"image-wrapper"},[e("img",{class:"dark-img-filter",src:"assets/img/cloud-connection.png",alt:""})],-1)),Se={class:"list-item-detail"},Ie={style:{display:"flex","justify-content":"space-between"}},Be={class:"list-name"},Le={key:0,class:"server-list-options",style:{"z-index":"999",top:"0px !important",position:"inherit",display:"inline-block"}},Ne={class:"options-toggle dropdown-toggle hideIcon",style:{"padding-right":"10px","padding-left":"10px",background:"none"},"data-bs-toggle":"dropdown"},Te={class:"badge bg-dark"},je=["innerHTML"],Ve={class:"detail"},Fe={class:"detail",style:{"margin-top":"5px"}},Me={key:0,class:"server-list-options"},De={class:"active-badge"},Ee=y(()=>e("span",{class:"active-dot"},null,-1)),He={class:"server-list-item"},Ue={class:"server-list-item-wrapper"},ze={class:"image-wrapper"},qe=["src"],Ge={class:"list-item-detail"},Oe={class:"list-name"},Je={class:"detail"},Ke={key:1},Qe={style:{"margin-top":"20px","text-align":"center"}},Re={class:"w-100 server-list-pagination"},f=9,We={__name:"services",setup(g){L().getUser(),r(0);function j(t){let a=d.value;const u=(p.value.page-1)*f,s=u+f;return a[t].slice(u,s)}const V=t=>t.replace(/\n/g,"<br>"),F=t=>t==null||t==""?0:t.split(`
`).length;q.useToast();const m=r(!1),M=G(),w=O(()=>M.state.auth.user),D=Y(),E=r([]),k=r([]),d=r([]),p=r({client_id:w.value.client_id,orderby:"",order:"",page:1}),v=r(!1),x=r(1);function H(t){p.value.page=t}const U=t=>{let a=d.value;x.value=Math.ceil(a[t].length/f)},P=()=>{v.value=!0,D.runGetApi("/servers",p.value).then(t=>{v.value=!1,m.value=!1,E.value=t.data.products,k.value=t.data.states,d.value=t.data.state_order;let a=d.value;x.value=Math.ceil(a.Active.length/f)}).catch(t=>{console.log(t),v.value=!1})};function S(t,a){p.value.orderby=t,P()}return P(),L().getUser(),(t,a)=>{const u=J("router-link");return i(),n("div",te,[h(K(X),{active:v.value,"onUpdate:active":a[0]||(a[0]=s=>v.value=s),"is-full-page":!1},null,8,["active"]),se,e("div",oe,[e("div",ie,[e("h3",ae,o(t.$t("services_title")),1),e("div",le,[e("div",ne,[e("div",{id:"toggleButton",class:"sort-item-active btn-chevron chevron-dark",onClick:a[1]||(a[1]=s=>m.value=!m.value)},[e("span",null,o(t.$t("Sort_by_name")),1)]),m.value?(i(),n("div",de,[e("ul",null,[e("li",{onClick:a[2]||(a[2]=s=>S("regdate"))},o(t.$t("Created_date")),1),e("li",{onClick:a[3]||(a[3]=s=>S("nextduedate"))},o(t.$t("Expiration_date")),1)])])):c("",!0)]),e("ul",re,[(i(!0),n(C,null,$(k.value,s=>{var _;return i(),n("li",{key:s,class:"nav-item",role:"presentation"},[(_=d.value)!=null&&_[s]&&s!="Fraud"?(i(),n("button",{key:0,class:N(["nav-link",s==="Active"?"active":""]),id:"pills-"+s+"-tab","data-bs-toggle":"pill","data-bs-target":"#pills-"+s,type:"button",role:"tab","aria-controls":"pills-"+s,"aria-selected":s==="Active",onClick:A=>U(s)},o(t.$t(s)),11,ce)):c("",!0)])}),128))])])]),w.value&&w.value.permissions.split(",").includes("products")?(i(),n("div",pe,[(i(!0),n(C,null,$(k.value,s=>{var _,A,I,B;return i(),n("div",{key:s,class:N(["tab-pane",{fade:s!=="Active"},{"show active":s==="Active"}]),id:"pills-"+s,role:"tabpanel","aria-labelledby":"pills-"+s+"-tab"},[e("div",ue,[(_=d.value)!=null&&_[s]?(i(!0),n(C,{key:0},$(j(s),l=>(i(),n("div",{key:l.orderid,class:"col-12 col-lg-4 col-md-6 col-sm-12"},[e("div",_e,[e("div",ge,[e("div",me,[e("div",he,[e("img",{src:"assets/img/"+l.sys_log+"-logo.png",alt:""},null,8,be)]),e("div",fe,[e("h2",ye,o(l.name),1),e("h3",we,o(l.configoptions.configoption[1].value),1),s!=="Cancelled"?(i(),n("div",ke,[xe,e("div",Ae,[e("ul",null,[e("li",null,[h(u,{class:"logo-wrapper d-flex align-items-center col-md-2 text-dark text-decoration-none order-lg-1",to:{name:"overview",params:{id:l.orderid,tab:"overview"}}},{default:T(()=>[b(o(t.$t("Launch_Control_Panel")),1)]),_:2},1032,["to"])]),e("li",null,[h(u,{class:"logo-wrapper d-flex align-items-center col-md-2 text-dark text-decoration-none order-lg-1",to:{name:"overview",params:{id:l.orderid,tab:"invoice"}}},{default:T(()=>[b(o(t.$t("View_Invoices")),1)]),_:2},1032,["to"])])])])])):c("",!0)])])]),s==="Active"?(i(),n("div",Ce,[e("div",$e,[Pe,e("div",Se,[e("div",Ie,[e("h2",Be,[b(o(l.dedicatedip)+" ",1),l.assignedips?(i(),n("div",Le,[e("div",Ne,[e("span",Te,o(F(l.assignedips)),1)]),e("div",{class:"options-toggle-dropdown dropdown-menu dropdown-menu-end",style:{padding:"10px !important","box-shadow":"2px 3px 2px rgb(200,200,200)"},innerHTML:V(l.assignedips)},null,8,je)])):c("",!0)])]),e("h3",Ve,o(t.$t("Created_at"))+" "+o(l.regdate),1),e("h3",Fe,o(t.$t("Due_date_at"))+" Â "+o(l.nextduedate),1)]),s==="Active"?(i(),n("div",Me,[e("button",De,[Ee,b(o(t.$t("Active")),1)])])):c("",!0)])])):c("",!0),e("div",He,[e("div",Ue,[e("div",ze,[e("img",{src:"assets/img/"+l.flag+".png",alt:""},null,8,qe)]),e("div",Ge,[e("h2",Oe,o(l.groupname),1),e("h3",Je,o(t.$t("Hostname"))+" : "+o(l.domain),1)])])])])]))),128)):c("",!0),s==="Active"&&(!((A=d.value)!=null&&A[s])||((B=(I=d.value)==null?void 0:I[s])==null?void 0:B.length)===0)?(i(),n("div",Ke,[e("h5",Qe,o(t.$t("No_Active_Product")),1)])):c("",!0)])],10,ve)}),128))])):(i(),Q(ee,{key:1}))]),e("div",Re,[h(Z,{currentPage:p.value.page,totalPages:x.value,onPageChanged:H},null,8,["currentPage","totalPages"])])])}}},st=z(We,[["__scopeId","data-v-9c37c0fb"]]);export{st as S};
