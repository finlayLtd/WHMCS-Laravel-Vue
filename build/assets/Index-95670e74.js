import{k as x,s as M,o as j,x as y,r as w,b as m,d as g,e,f as p,y as B,l as F,g as U,m as V,w as b,z as f,h as N,n as r,F as z,A as E,t as h,B as S}from"./app-c4a345d8.js";import{u as O}from"./posts-3f4781db.js";import{u as q}from"./categories-3c63db79.js";const G={class:"row justify-content-center my-2"},H={class:"col-md-12"},J={class:"card border-0"},K={class:"card-header bg-transparent"},Q=e("h5",{class:"float-start"},"Posts",-1),R={class:"card-body shadow-sm"},W={class:"mb-4"},X={class:"table-responsive"},Y={class:"table"},Z={class:"px-6 py-3 bg-gray-50 text-left"},ee={class:"px-6 py-3 bg-gray-50 text-left"},te={class:"px-6 py-3 bg-gray-50 text-left"},se={class:"px-6 py-3 bg-gray-50 text-left"},ae=e("th",{class:"px-6 py-3 text-start"},null,-1),le=e("th",{class:"px-6 py-3 text-start"},null,-1),oe={class:"px-6 py-3 text-start"},ne={class:"select-none"},de={class:"px-6 py-3 text-left"},ce={class:"select-none"},ie=e("th",{class:"px-6 py-3 bg-gray-50 text-left"},[e("span",{class:"text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Category")],-1),ue=e("th",{class:"px-6 py-3 bg-gray-50 text-left"},[e("span",{class:"text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Content")],-1),re={class:"px-6 py-3 bg-gray-50 text-left"},ve={class:"select-none"},pe=e("th",{class:"px-6 py-3 bg-gray-50 text-left"}," Actions ",-1),_e={class:"px-6 py-4 text-sm"},xe={class:"px-6 py-4 text-sm"},me={class:"px-6 py-4 text-sm"},ye={class:"px-6 py-4 text-sm"},he={class:"px-6 py-4 text-sm"},ge={class:"px-6 py-4 text-sm"},be=["onClick"],fe={class:"card-footer"},De={__name:"Index",setup(ke){const n=x(""),d=x(""),c=x(""),i=x(""),u=x(""),l=x("created_at"),a=x("desc"),{posts:P,getPosts:v,deletePost:T}=O(),{categoryList:$,getCategoryList:A}=q(),{can:k}=M();j(()=>{v(),A()});const C=o=>{l.value=o,a.value=a.value==="asc"?"desc":"asc",v(1,n.value,d.value,c.value,i.value,u.value,l.value,a.value)};return y(n,(o,s)=>{v(1,o,d.value,c.value,i.value,u.value)}),y(d,(o,s)=>{v(1,n.value,o,c.value,i.value,u.value)}),y(c,(o,s)=>{v(1,n.value,d.value,o,i.value,u.value)}),y(i,(o,s)=>{v(1,n.value,d.value,c.value,o,u.value)}),y(u,_.debounce((o,s)=>{v(1,n.value,d.value,c.value,i.value,o)},200)),(o,s)=>{const D=w("router-link"),I=w("v-select"),L=w("Pagination");return m(),g("div",G,[e("div",H,[e("div",J,[e("div",K,[Q,p(k)("post-create")?(m(),B(D,{key:0,to:{name:"posts.create"},class:"btn btn-primary btn-sm float-end"},{default:F(()=>[U(" Create Post ")]),_:1},8,["to"])):V("",!0)]),e("div",R,[e("div",W,[b(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),type:"text",placeholder:"Search...",class:"form-control w-25"},null,512),[[f,u.value]])]),e("div",X,[e("table",Y,[e("thead",null,[e("tr",null,[e("th",Z,[b(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>d.value=t),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by ID"},null,512),[[f,d.value]])]),e("th",ee,[b(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>c.value=t),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by Title"},null,512),[[f,c.value]])]),e("th",te,[N(I,{modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=t=>n.value=t),options:p($),reduce:t=>t.id,label:"text",class:"form-control w-100"},null,8,["modelValue","options","reduce"])]),e("th",se,[b(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>i.value=t),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by Content"},null,512),[[f,i.value]])]),ae,le]),e("tr",null,[e("th",oe,[e("div",{class:"flex flex-row",onClick:s[5]||(s[5]=t=>C("id"))},[e("div",{class:r(["font-medium text-uppercase",{"font-bold text-blue-600":l.value==="id"}])}," ID ",2),e("div",ne,[e("span",{class:r({"text-blue-600":a.value==="asc"&&l.value==="id",hidden:a.value!==""&&a.value!=="asc"&&l.value==="id"})},"↑",2),e("span",{class:r({"text-blue-600":a.value==="desc"&&l.value==="id",hidden:a.value!==""&&a.value!=="desc"&&l.value==="id"})},"↓",2)])])]),e("th",de,[e("div",{class:"flex flex-row",onClick:s[6]||(s[6]=t=>C("title"))},[e("div",{class:r(["font-medium text-uppercase",{"font-bold text-blue-600":l.value==="title"}])}," Title ",2),e("div",ce,[e("span",{class:r({"text-blue-600":a.value==="asc"&&l.value==="title",hidden:a.value!==""&&a.value!=="asc"&&l.value==="title"})},"↑",2),e("span",{class:r({"text-blue-600":a.value==="desc"&&l.value==="title",hidden:a.value!==""&&a.value!=="desc"&&l.value==="title"})},"↓",2)])])]),ie,ue,e("th",re,[e("div",{class:"flex flex-row items-center justify-between cursor-pointer",onClick:s[7]||(s[7]=t=>C("created_at"))},[e("div",{class:r(["leading-4 font-medium text-gray-500 uppercase tracking-wider",{"font-bold text-blue-600":l.value==="created_at"}])}," Created at ",2),e("div",ve,[e("span",{class:r({"text-blue-600":a.value==="asc"&&l.value==="created_at",hidden:a.value!==""&&a.value!=="asc"&&l.value==="created_at"})},"↑",2),e("span",{class:r({"text-blue-600":a.value==="desc"&&l.value==="created_at",hidden:a.value!==""&&a.value!=="desc"&&l.value==="created_at"})},"↓",2)])])]),pe])]),e("tbody",null,[(m(!0),g(z,null,E(p(P).data,t=>(m(),g("tr",{key:t.id},[e("td",_e,h(t.id),1),e("td",xe,h(t.title),1),e("td",me,h(t.category),1),e("td",ye,h(t.content),1),e("td",he,h(t.created_at),1),e("td",ge,[p(k)("post-edit")?(m(),B(D,{key:0,to:{name:"posts.edit",params:{id:t.id}},class:"badge bg-primary"},{default:F(()=>[U("Edit ")]),_:2},1032,["to"])):V("",!0),p(k)("post-delete")?(m(),g("a",{key:1,href:"#",onClick:S(Ce=>p(T)(t.id),["prevent"]),class:"ms-2 badge bg-danger"},"Delete",8,be)):V("",!0)])]))),128))])])])]),e("div",fe,[N(L,{data:p(P),limit:3,onPaginationChangePage:s[8]||(s[8]=t=>p(v)(t,n.value,d.value,c.value,i.value,u.value,l.value,a.value)),class:"mt-4"},null,8,["data"])])])])])}}};export{De as default};
