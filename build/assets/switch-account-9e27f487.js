import{B as g,f as i,b as f,d as w,o as n,c as a,h as t,t as c,F as y,s as C,A as o,l as h,j as k,e as A}from"./app-ff5f8f42.js";import{c as S}from"./commonApis-cfe1d3ba.js";const x={class:"overview",style:{position:"relative"}},$={class:"container"},B={class:"d-flex flex-column justify-content-start align-items-start title-button-wrapper"},j={class:"overview-header"},N={class:"title mb-0"},V={class:"sub-section overview-tab"},E={class:"row justify-content-between align-items-center"},F={class:"tab-content settings-tab-content",id:"pills-tabContent"},L={class:"tab-pane fade show active",id:"pills-userManagement",role:"tabpanel","aria-labelledby":"pills-userManagement-tab"},M={class:"tab-inner mb-3"},O={class:"row"},T={class:"title mb-4"},z=t("div",{class:"divider"},null,-1),D={class:"row px-2 pt-4 px-lg-4 pt-lg-4"},G={class:"w-100 mb-5 support-table"},I={class:"table"},P=["onClick"],U={key:0,class:"badge bg-info"},q={key:1,class:"badge bg-info"},H=t("br",null,null,-1),X={__name:"switch-account",setup(J){const r=g.useToast({toastOptions:{zIndex:99999}}),d=S();i(!1),i(!1);const p=f(),l=w(()=>p.state.auth.user),u=i([]),m=i({client_id:l.value.client_id});(()=>{o(!0),d.runGetApi("/getCurrentState",m.value).then(e=>{o(!1),u.value=e.data.clients}).catch(e=>{o(!1),console.log(e)})})();const b=(e,_)=>{o(!0),d.runPostApi("/switch",{switching_email:e,client_id:_}).then(s=>{o(!1),s.data.result=="success"?(A().getUser(),r.success("Successfully switched account!")):r.warning("Cannot connect to whmcs api.")}).catch(s=>{o(!1),console.log(s)})};return(e,_)=>(n(),a("section",x,[t("div",$,[t("div",B,[t("div",j,[t("h2",N,c(e.$t("Switch_Account")),1)])]),t("div",V,[t("div",E,[t("div",F,[t("div",L,[t("div",M,[t("div",O,[t("h3",T,c(e.$t("switch_title")),1)]),z,t("div",D,[t("div",G,[t("table",I,[t("tbody",null,[(n(!0),a(y,null,C(u.value,(s,v)=>(n(),a("tr",{key:v},[t("td",null,[t("button",{onClick:Q=>b(s.email,s.client_id),style:{background:"none",border:"none",padding:"10px"}},c(s.email),9,P),s.email==l.value.email?(n(),a("span",U,c(e.$t("Owner")),1)):h("",!0),k(" Â  "),s.client_id==l.value.client_id?(n(),a("span",q,c(e.$t("Current_logged_in_account")),1)):h("",!0),H])]))),128))])])])])])])])])])])]))}};export{X as default};
