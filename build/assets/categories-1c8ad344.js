import{k as n,G as h,H as C}from"./app-1c59e5b4.js";function L(){const c=n([]),u=n([]),l=n({name:""}),i=h(),o=n({}),s=n(!1),r=C("$swal"),g=async(t=1,e="",a="",d="",y="created_at",p="desc")=>{axios.get("/api/categories?page="+t+"&search_id="+e+"&search_title="+a+"&search_global="+d+"&order_column="+y+"&order_direction="+p).then(f=>{c.value=f.data})};return{categoryList:u,categories:c,category:l,getCategories:g,getCategoryList:async()=>{axios.get("/api/category-list").then(t=>{u.value=t.data.data})},getCategory:async t=>{axios.get("/api/categories/"+t).then(e=>{l.value=e.data.data})},storeCategory:async t=>{s.value||(s.value=!0,o.value={},axios.post("/api/categories",t).then(e=>{i.push({name:"categories.index"}),r({icon:"success",title:"Category saved successfully"})}).catch(e=>{var a;(a=e.response)!=null&&a.data&&(o.value=e.response.data.errors)}).finally(()=>s.value=!1))},updateCategory:async t=>{s.value||(s.value=!0,o.value={},axios.put("/api/categories/"+t.id,t).then(e=>{i.push({name:"categories.index"}),r({icon:"success",title:"Category updated successfully"})}).catch(e=>{var a;(a=e.response)!=null&&a.data&&(o.value=e.response.data.errors)}).finally(()=>s.value=!1))},deleteCategory:async t=>{r({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(e=>{e.isConfirmed&&axios.delete("/api/categories/"+t).then(a=>{g(),i.push({name:"categories.index"}),r({icon:"success",title:"Category deleted successfully"})}).catch(a=>{r({icon:"error",title:"Something went wrong"})})})},validationErrors:o,isLoading:s}}export{L as u};
