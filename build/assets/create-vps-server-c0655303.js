import{_ as oe,e as G,K as ae,B as le,f as d,b as ne,d as ie,o as i,c as r,h as e,t,F as h,s as p,l as A,w as f,D as re,C as K,M as de,j as v,O as Q,A as y,v as I,y as O,p as ce,q as ue}from"./app-ff5f8f42.js";import{c as _e}from"./commonApis-cfe1d3ba.js";const c=C=>(ce("data-v-3f9de89f"),C=C(),ue(),C),ve={class:"dashboard"},me={class:"container"},he={class:"title"},pe={class:"sub-section"},fe={class:"sub-title"},ge={class:"row server-item-wrapper"},be=["data-dist","onClick"],ye=["src"],we={class:"sub-section"},ke={class:"sub-title"},$e=["data-dist"],Ce={class:"row server-item-wrapper os-version-wrapper flex-column align-items-start"},Se=["osid","onClick","os-name-iso","config-id"],Pe=["src"],Ve={class:"sub-section"},Me={class:"sub-title"},Ue={key:0},Ae=["onClick"],Oe={class:"image-wrapper mb-2",style:{"font-size":"20px"}},Re=["src"],Ee={key:0},ze={key:1},Ne=["onClick"],Be=["product-id"],Ie={class:"server-name mb-4 d-flex justify-content-between"},De={class:"name"},Te={key:0},qe={class:"server-price mb-4",style:{background:"none"}},Fe={class:"price"},Le={class:"price-value"},je={class:"month"},He={class:""},Ge={class:"server-features"},Ke=c(()=>e("img",{src:"assets/img/cpu.png",alt:""},null,-1)),Qe=c(()=>e("img",{src:"assets/img/ram.png",alt:""},null,-1)),Ze=c(()=>e("img",{src:"assets/img/hard-disk.png",alt:""},null,-1)),Je=c(()=>e("img",{src:"assets/img/speedometer.png",alt:""},null,-1)),We=c(()=>e("img",{src:"assets/img/cable.png",alt:""},null,-1)),Xe={class:"more-details-wrapper mt-3"},Ye=c(()=>e("div",{class:"more-details-content"},[e("p",null," Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores ullam repellendus aspernatur placeat rem, molestiae veritatis porro, facilis quo, repudiandae odio quia debitis iste nemo assumenda omnis? Quo, dignissimos, ducimus! ")],-1)),xe={class:"btn btn-light btn-chevron d-lg-block hover-light-dark toggle-more-detail"},es={class:"sub-section"},ss={class:"sub-title"},ts={class:"row"},os={class:"configure-server-form"},as={class:"mb-2"},ls={for:"number_of_ips",class:"form-label"},ns={style:{display:"flex"}},is=["value"],rs={key:0},ds={class:"sub-section"},cs={class:"sub-title"},us={class:"row"},_s={class:"configure-server-form"},vs={class:"mb-3"},ms={for:"email",class:"form-label"},hs={style:{display:"flex"}},ps=["placeholder"],fs={class:"mb-4"},gs={for:"password",class:"form-label"},bs={style:{display:"flex"},class:"mb-4"},ys={class:"progress",id:"passwordStrengthBar"},ws={class:"rating"},ks={class:"alert alert-info",style:{"text-align":"left"}},$s=c(()=>e("br",null,null,-1)),Cs=c(()=>e("br",null,null,-1)),Ss=c(()=>e("br",null,null,-1)),Ps={class:"mb-3 text-end"},Vs={key:0,class:"modal modal-ticket"},Ms={class:"modal-inner"},Us=c(()=>e("img",{class:"close-dark",src:"assets/img/close.svg",alt:""},null,-1)),As=c(()=>e("img",{class:"close-light",src:"assets/img/close-light.svg",alt:""},null,-1)),Os=[Us,As],Rs={class:"modal-content"},Es={class:"modal-header"},zs={class:"modal-title"},Ns={class:"modal-main"},Bs={class:"vps-info mb-2"},Is={class:"vps-info-review card"},Ds={class:"sub-title"},Ts=c(()=>e("hr",null,null,-1)),qs={class:"vps-name"},Fs={class:"vps-price"},Ls={class:"vps-groupname"},js={class:"row"},Hs={class:"image-wrapper mb-2",style:{"font-size":"20px"}},Gs=["src"],Ks={key:0},Qs={key:1},Zs={class:"vps-hostname"},Js={class:"vps-ipnum"},Ws={class:"vps-os"},Xs={class:"user-info mt-2 mb-2"},Ys={class:"user-info-review card"},xs={class:"sub-title"},et=c(()=>e("hr",null,null,-1)),st={class:"user-name"},tt={class:"user-email"},ot={class:"user-currency-code"},at={class:"payment-info mt-2"},lt={class:"payment-info-review card"},nt={class:"sub-title"},it=c(()=>e("hr",null,null,-1)),rt=["value","checked"],dt=["for"],ct={class:"form-check"},ut={class:"form-check-label",for:"paymentMethod"},_t={__name:"create-vps-server",setup(C){G().getUser();const Z=ae(),u=le.useToast({toastOptions:{zIndex:99999}}),D=_e(),w=d(!1),J=ne(),k=ie(()=>J.state.auth.user),R=d([]),E=d(null),z=d(null),T=d([]),q=d([]),S=d("windows"),P=d(null),F=d(null),_=d(null),N=d(null),L=d(null),V=d(1),$=d(""),g=d(""),b=d("cryptomusgateway"),W=d({client_id:k.value.client_id});function X(){if(b.value=="credit"&&_.value.pricing.EUR.monthly>k.value.credit){w.value=!1,u.error("Please choose the OS you want to use on your VPS.");return}y(!0),D.runPostApi("/create-vps",{hostname:$.value,pwd:g.value,paymentMethod:b.value,product_id:_.value.pid,config_id:F.value,number_of_ips:V.value}).then(s=>{if(y(!1),s.data.result=="success"){let n=s.data.order_id;w.value=!1,u.success("Successfully created vps."),Z.push({name:"overview",params:{id:n,tab:"overview"}})}else u.error(s.data.result)}).catch(s=>{y(!1),console.log(s)})}function Y(){if(P.value==null){u.error("Please choose the OS you want to use on your VPS.");return}if(S.value==null){u.error("Please choose the OS you want to use on your VPS.");return}if(_.value==null){u.error("Please choose the VPS you want.");return}if(g.value==""){u.error("Password strength must be greater than 100");return}if(g.value==""){u.error("Please input hostname.");return}w.value=!0}function x(s){s.stocklevel!=0?_.value=s:u.error("Out of stock!")}const ee=()=>{y(!0),D.runGetApi("/create-vps-server",W.value).then(s=>{y(!1),R.value=s.data.products,E.value=s.data.product_group,z.value=s.data.oslist,T.value=s.data.os_kind,q.value=s.data.payment_methods}).catch(s=>{y(!1),console.log(s)})};function j(){for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@",n=12,o="",a=0,l=0,m=0,B=0;B<n;B++){var te=Math.floor(Math.random()*s.length),M=s.charAt(te);/[A-Z]/.test(M)?a++:/[\!\@]/.test(M)?l++:/[0-9]/.test(M)&&m++,o+=M}if(a<3||l<2||m<2)return j();var U=document.createElement("textarea");return U.value=o,document.body.appendChild(U),U.select(),document.execCommand("copy"),document.body.removeChild(U),u.success("Copied password to clipboard"),o}function se(){for(var s="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<12;o++)s+=n.charAt(Math.floor(Math.random()*n.length));var a=document.createElement("textarea");return a.value=s,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),u.success("Copied hostname to clipboard"),s}ee();function H(s){return s.charAt(0).toUpperCase()+s.slice(1)}return G().getUser(),(s,n)=>(i(),r("section",ve,[e("div",me,[e("h2",he,t(s.$t("Create_Server")),1),e("div",pe,[e("h3",fe,t(s.$t("Choose_a_OS")),1),e("div",ge,[(i(!0),r(h,null,p(z.value,(o,a)=>f((i(),r("div",{class:O(S.value==a?"server-item display-distributions selected-os":"server-item display-distributions"),"data-dist":a,onClick:l=>(S.value=a,P.value=null),key:a},[e("img",{src:"assets/img/"+a+"-logo.png"},null,8,ye),e("span",null,t(H(a)),1)],10,be)),[[I,H(a)!="Others"]])),128))])]),e("div",we,[e("h3",ke,t(s.$t("Choose_a_OS_Version")),1),(i(!0),r(h,null,p(T.value,(o,a)=>f((i(),r("div",{key:a,"data-dist":o},[e("div",Ce,[(i(!0),r(h,null,p(z.value[o],(l,m)=>(i(),r("div",{key:m,class:O(["",P.value==m?"datacenter-item system-item selected-os":"datacenter-item system-item"]),osid:m,onClick:B=>(P.value=m,N.value=l.name,F.value=l.config_id),"os-name-iso":l.name,"config-id":l.config_id},[e("img",{src:"assets/img/"+o+"-logo.png"},null,8,Pe),e("span",null,t(l.name),1)],10,Se))),128))])],8,$e)),[[I,S.value==o]])),128))]),e("div",Ve,[e("h3",Me,t(s.$t("Choose_a_Datacenter_region")),1),R.value.length>0?(i(),r("div",Ue,[(i(!0),r(h,null,p(E.value,(o,a)=>(i(),r("div",{key:a},[e("div",{class:"row",onClick:l=>L.value=a},[e("div",Oe,[e("img",{src:a==2?"assets/img/flag-nl.png":"assets/img/flag-en.png",style:{width:"28px"},alt:""},null,8,Re),a==2?(i(),r("span",Ee," "+t(s.$t("Netherlands")),1)):(i(),r("span",ze," "+t(s.$t("USA")),1))]),(i(!0),r(h,null,p(R.value.filter(l=>l.gid==a),l=>(i(),r("div",{key:l.pid,class:"col-md-3 m-1 mb-4",onClick:m=>x(l)},[e("div",{class:O(_.value&&_.value.pid==l.pid?"card-item data-region-card p-4 plan-item selected-plan":"card-item data-region-card p-4 plan-item"),style:{cursor:"pointer"},"product-id":l.pid},[e("div",Ie,[e("span",De,t(l.name),1),l.stockcontrol?(i(),r("span",Te,[e("span",{class:O([l.stocklevel!=0?"stockTitle":"stockUnavailable"])},t(l.stocklevel)+" "+t(s.$t("Available")),3)])):A("",!0)]),e("div",qe,[e("span",Fe,[v("€"),e("span",Le,t(l.pricing.EUR.monthly),1),e("span",je,"/ "+t(s.$t("month")),1)])]),e("div",He,[e("ul",Ge,[e("li",null,[Ke,v(t(l.server_info[0]),1)]),e("li",null,[Qe,v(t(l.server_info[1]),1)]),e("li",null,[Ze,v(t(l.server_info[2]),1)]),e("li",null,[Je,v(t(l.server_info[3]),1)]),e("li",null,[We,v(t(l.server_info[4]),1)])])]),e("div",Xe,[Ye,e("a",xe,t(s.$t("More_Details")),1)])],10,Be)],8,Ne))),128))],8,Ae)]))),128))])):A("",!0)]),e("div",es,[e("h3",ss,t(s.$t("Configurable_Options")),1),e("div",ts,[e("div",os,[e("div",as,[e("label",ls,t(s.$t("Number_of_IPs")),1),e("div",ns,[f(e("select",{name:"number_of_ips",id:"number_of_ips",class:"form-select","onUpdate:modelValue":n[0]||(n[0]=o=>V.value=o),style:{"margin-right":"10px","margin-bottom":"10px",width:"auto"}},[(i(),r(h,null,p(60,o=>e("option",{key:o,value:o},[v(t(o)+" ",1),o>1?(i(),r("span",rs," €"+t(((o-1)*2.5).toFixed(2))+"EUR",1)):A("",!0)],8,is)),64))],512),[[re,V.value]])])])])])]),e("div",ds,[e("h3",cs,t(s.$t("Configure_Server")),1),e("div",us,[e("div",_s,[e("div",vs,[e("label",ms,t(s.$t("VPS_Hostname")),1),e("div",hs,[f(e("input",{type:"text",class:"form-control",placeholder:s.$t("hostname"),id:"hostname",name:"hostname","onUpdate:modelValue":n[1]||(n[1]=o=>$.value=o)},null,8,ps),[[K,$.value]]),e("button",{type:"button",class:"btn btn-link",style:{padding:"10px"},id:"randomizeButton",onClick:n[2]||(n[2]=o=>$.value=se())},t(s.$t("Random")),1)])]),e("div",fs,[e("label",gs,t(s.$t("VPS_Password")),1),e("div",bs,[f(e("input",{type:"text",class:"form-control",placeholder:"••••••••••",id:"password",name:"password",required:"",disabled:"","onUpdate:modelValue":n[3]||(n[3]=o=>g.value=o)},null,512),[[K,g.value]]),e("button",{type:"button",class:"btn btn-link",style:{padding:"10px"},id:"randomizeButton_password",onClick:n[4]||(n[4]=o=>g.value=j())},t(s.$t("Random")),1)]),e("div",ys,[e("div",{class:"progress-bar progress-bar-success",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:de(g.value?"width: 100%":"width: 0%")},[e("span",ws,t(s.$t("Password_Rating"))+": 100%",1)],4)]),e("div",ks,[e("strong",null,t(s.$t("tips_title")),1),$s,v(" "+t(s.$t("tips_content1"))+" ",1),Cs,v(" "+t(s.$t("tips_content2"))+" ",1),Ss,v(t(s.$t("tips_content3")),1)])]),e("div",Ps,[e("button",{id:"create-btn",type:"submit",class:"btn btn-dark hover-dark-light",onClick:n[5]||(n[5]=o=>Y())},t(s.$t("Create_Server")),1)])])])])]),w.value?(i(),r("div",Vs,[e("div",Ms,[e("div",{class:"modal-close",onClick:n[6]||(n[6]=o=>w.value=!1)},Os),e("div",Rs,[e("div",Es,[e("div",zs,[e("h2",null,t(s.$t("Review_and_Checkout")),1)])]),e("div",Ns,[e("div",Bs,[e("div",Is,[e("h6",Ds,t(s.$t("VPS_info")),1),Ts,e("div",qs,t(_.value?_.value.name:""),1),e("div",Fs," €"+t(_.value?_.value.pricing.EUR.monthly:"")+"/"+t(s.$t("month")),1),e("div",Ls,[(i(!0),r(h,null,p(E.value,(o,a)=>f((i(),r("div",{key:a},[e("div",js,[e("div",Hs,[e("img",{src:a==2?"assets/img/flag-nl.png":"assets/img/flag-en.png",style:{width:"28px"},alt:""},null,8,Gs),a==2?(i(),r("span",Ks," "+t(s.$t("Netherlands")),1)):(i(),r("span",Qs," "+t(s.$t("USA")),1))])])])),[[I,L.value==a]])),128))]),e("div",Zs,t(s.$t("Host_Name"))+": "+t($.value),1),e("div",Js,t(s.$t("Number_of_IPs"))+": "+t(V.value),1),e("div",Ws,t(N.value?N.value:""),1)])]),e("div",Xs,[e("div",Ys,[e("h6",xs,t(s.$t("User_info")),1),et,e("div",st,t(s.$t("Name"))+": "+t(k.value.name),1),e("div",tt,t(s.$t("Email"))+": "+t(k.value.email),1),e("div",ot,t(s.$t("Currency"))+": EUR",1)])]),e("div",at,[e("div",lt,[e("h6",nt,t(s.$t("Payment_Method")),1),it,(i(!0),r(h,null,p(q.value,(o,a)=>(i(),r("div",{key:a,class:"form-check"},[f(e("input",{type:"radio",class:"form-check-input paymentMethod",name:"paymentMethod","onUpdate:modelValue":n[7]||(n[7]=l=>b.value=l),value:o.module,checked:a==0},null,8,rt),[[Q,b.value]]),e("label",{class:"form-check-label",for:"paymentMethod"+a},t(o.displayname),9,dt)]))),128)),e("div",ct,[f(e("input",{type:"radio",class:"form-check-input paymentMethod",name:"paymentMethod","onUpdate:modelValue":n[8]||(n[8]=o=>b.value=o),value:"credit"},null,512),[[Q,b.value]]),e("label",ut,t(s.$t("Account_Funds"))+" ("+t(s.$t("available"))+" €"+t(k.value.credit)+")",1)])])]),e("button",{class:"btn-dark d-block w-100 mt-5",id:"continue-order",onClick:n[9]||(n[9]=o=>X())},t(s.$t("CheckOut")),1)])])])])):A("",!0)]))}},ht=oe(_t,[["__scopeId","data-v-3f9de89f"]]);export{ht as default};
