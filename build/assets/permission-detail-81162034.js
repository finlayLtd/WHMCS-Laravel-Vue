import{D,u as E,c as N,k as l,r as B,b as O,d as T,e,h as $,l as j,t as I,f as K,w as n,K as a,g as i}from"./app-1c59e5b4.js";import{c as L,s as c}from"./loading-f6678eee.js";import{d as Q}from"./theme-sugar-6744922a.js";const R={class:"dashboard"},z={class:"container"},F={class:"title-button-wrapper ticket-detail"},G=e("img",{class:"status-arrow",src:"/assets/img/status-arrow.svg",alt:""},null,-1),H=e("h3",{class:"ticket-status-title color-in-work"},"Manage Permissions",-1),J={class:"title mb-0 mt-2"},W={class:"sub-section server-list-tab"},X={class:"row justify-content-between align-items-center"},Y={class:"row mb-5 pe-0"},Z={class:"col-12"},ee={class:"card-item p-4 mb-4 support-item flex-column"},se=e("h3",null,"Permissions",-1),te=e("br",null,null,-1),oe={class:"well",id:"invitePermissions"},le={class:"checkbox-inline"},ne=e("br",null,null,-1),ae={class:"checkbox-inline"},ie=e("br",null,null,-1),ce={class:"checkbox-inline"},ue=e("br",null,null,-1),re={class:"checkbox-inline"},de=e("br",null,null,-1),pe={class:"checkbox-inline"},me=e("br",null,null,-1),ve={class:"checkbox-inline"},_e=e("br",null,null,-1),fe={class:"checkbox-inline"},be=e("br",null,null,-1),he={class:"checkbox-inline"},ke=e("br",null,null,-1),we={class:"checkbox-inline"},ge=e("br",null,null,-1),xe={class:"checkbox-inline"},Ve=e("br",null,null,-1),ye={class:"checkbox-inline"},Ae=e("br",null,null,-1),Pe={class:"checkbox-inline"},Ue=e("br",null,null,-1),Se={class:"checkbox-inline"},Ce=e("br",null,null,-1),Ne={__name:"permission-detail",setup(Me){const V=Q.useToast(),x=D(),y=L(),P=E(),U=N(()=>P.state.auth.user),u=l(!1),r=l(!1),d=l(!1),p=l(!1),m=l(!1),v=l(!1),_=l(!1),f=l(!1),b=l(!1),h=l(!1),k=l(!1),w=l(!1),g=l(!1),A=l([]);l({client_id:U.value.client_id,orderby:"",order:""});const S=()=>{c(!0),y.runPostApi("/get_permission_detail_per_ser",{user_id:x.params.id}).then(o=>{c(!1),A.value=o.data.permissions,C()}).catch(o=>{c(!1),console.log(o)})},C=()=>{A.value.forEach(o=>{o==="profile"?u.value=!0:o==="contacts"?r.value=!0:o==="products"?d.value=!0:o==="manageproducts"?p.value=!0:o==="productsso"?m.value=!0:o==="domains"?v.value=!0:o==="managedomains"?_.value=!0:o==="invoices"?f.value=!0:o==="quotes"?b.value=!0:o==="tickets"?h.value=!0:o==="affiliates"?k.value=!0:o==="emails"?w.value=!0:o==="orders"&&(g.value=!0)})};S();const M=()=>{c(!0),y.runPostApi("/edit_user_permissions",{user_id:x.params.id,profile:u.value,contacts:r.value,products:d.value,manageproducts:p.value,productsso:m.value,domains:v.value,managedomains:_.value,invoices:f.value,quotes:b.value,tickets:h.value,affiliates:k.value,emails:w.value,orders:g.value}).then(o=>{c(!1),o.data.result=="success"?V.success("Successfully edited permissions!"):V.warning("Cannot connect to whmcs api!")}).catch(o=>{c(!1),console.log(o)})};return(o,s)=>{const q=B("router-link");return O(),T("section",R,[e("div",z,[e("div",F,[$(q,{to:"/settings"},{default:j(()=>[G]),_:1}),H,e("h2",J,I(K(x).params.email),1)]),e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[se,te,e("div",oe,[e("label",le,[n(e("input",{type:"checkbox",name:"profile","onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t)},null,512),[[a,u.value]]),i(" Modify Master Account Profile - Access and modify the client profile information ")]),ne,e("label",ae,[n(e("input",{type:"checkbox",name:"contacts","onUpdate:modelValue":s[1]||(s[1]=t=>r.value=t)},null,512),[[a,r.value]]),i(" View & Manage Contacts - Access and manage contacts ")]),ie,e("label",ce,[n(e("input",{type:"checkbox",name:"products","onUpdate:modelValue":s[2]||(s[2]=t=>d.value=t)},null,512),[[a,d.value]]),i(" View Products & Services - View access to products, services and addons ")]),ue,e("label",re,[n(e("input",{type:"checkbox",name:"manageproducts","onUpdate:modelValue":s[3]||(s[3]=t=>p.value=t)},null,512),[[a,p.value]]),i(" View & Modify Product Passwords - Allow password resets and other actions ")]),de,e("label",pe,[n(e("input",{type:"checkbox",name:"productsso","onUpdate:modelValue":s[4]||(s[4]=t=>m.value=t)},null,512),[[a,m.value]]),i(" Perform Single Sign-On - Allow single sign-on into services ")]),me,e("label",ve,[n(e("input",{type:"checkbox",name:"domains","onUpdate:modelValue":s[5]||(s[5]=t=>v.value=t)},null,512),[[a,v.value]]),i(" View Domains - View access to domain registrations ")]),_e,e("label",fe,[n(e("input",{type:"checkbox",name:"managedomains","onUpdate:modelValue":s[6]||(s[6]=t=>_.value=t)},null,512),[[a,_.value]]),i(" Manage Domain Settings - Allow domain management eg. nameservers/whois/transfers ")]),be,e("label",he,[n(e("input",{type:"checkbox",name:"invoices","onUpdate:modelValue":s[7]||(s[7]=t=>f.value=t)},null,512),[[a,f.value]]),i(" View & Pay Invoices - View and payment access to invoices ")]),ke,e("label",we,[n(e("input",{type:"checkbox",name:"quotes","onUpdate:modelValue":s[8]||(s[8]=t=>b.value=t)},null,512),[[a,b.value]]),i(" View & Accept Quotes - View and acceptance permissions for quotes ")]),ge,e("label",xe,[n(e("input",{type:"checkbox",name:"tickets","onUpdate:modelValue":s[9]||(s[9]=t=>h.value=t)},null,512),[[a,h.value]]),i(" View & Open Support Tickets - Access to open, respond and manage support tickets ")]),Ve,e("label",ye,[n(e("input",{type:"checkbox",name:"affiliates","onUpdate:modelValue":s[10]||(s[10]=t=>k.value=t)},null,512),[[a,k.value]]),i(" View & Manage Affiliate Account - Access to view and request withdrawals ")]),Ae,e("label",Pe,[n(e("input",{type:"checkbox",name:"emails","onUpdate:modelValue":s[11]||(s[11]=t=>w.value=t)},null,512),[[a,w.value]]),i(" View Emails - Access to view account email history ")]),Ue,e("label",Se,[n(e("input",{type:"checkbox",name:"orders","onUpdate:modelValue":s[12]||(s[12]=t=>g.value=t)},null,512),[[a,g.value]]),i(" Place New Orders/Upgrades/Cancellations - Allow placing of new orders ")]),Ce]),e("button",{class:"btn btn-dark mt-4",onClick:s[13]||(s[13]=t=>M())}," Save Changes ")])])])])])])])}}};export{Ne as default};
