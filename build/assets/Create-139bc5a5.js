import{C as P,o as T,r as U,b as s,d as o,e as t,B as D,w as _,z as y,t as a,f as n,F as d,A as c,h as E,v as N}from"./app-c4a345d8.js";import{u as j}from"./categories-3c63db79.js";import{u as z}from"./posts-3f4781db.js";import{d as x,u as A,a as v,r as R,m as G}from"./rules-54890b8d.js";const H={class:"row justify-content-center my-5"},I={class:"col-md-6"},J={class:"card border-0 shadow-sm"},K={class:"card-body"},O=["onSubmit"],Q={class:"mb-3"},W=t("label",{for:"post-title",class:"form-label"}," Title ",-1),X={class:"text-danger mt-1"},Y={class:"text-danger mt-1"},Z={class:"mb-3"},$=t("label",{for:"post-content",class:"form-label"}," Content ",-1),tt={class:"text-danger mt-1"},et={class:"text-danger mt-1"},st={class:"mb-3"},ot=t("label",{for:"post-category",class:"form-label"}," Category ",-1),nt={class:"text-danger mt-1"},lt={class:"text-danger mt-1"},it={class:"mb-3"},at=t("label",{for:"thumbnail",class:"form-label"}," Thumbnail ",-1),rt={class:"text-danger mt-1"},dt={class:"mt-4"},ct=["disabled"],ut={class:""},mt={key:0},_t={key:1},gt={__name:"Create",setup(vt){x("required",R),x("min",G);const V={title:"required|min:5",content:"required|min:50",category_id:"required"},{validate:C,errors:u}=A({validationSchema:V}),{value:w}=v("title",null,{initialValue:""}),{value:S}=v("content",null,{initialValue:""}),{value:q}=v("category_id",null,{initialValue:"",label:"category"}),{categoryList:F,getCategoryList:k}=j(),{storePost:B,validationErrors:r,isLoading:m}=z(),l=P({title:w,content:S,category_id:q,thumbnail:""});function L(){C().then(h=>{h.valid&&B(l)})}return T(()=>{k()}),(h,i)=>{var b,p,f,g;const M=U("v-select");return s(),o("div",H,[t("div",I,[t("div",J,[t("div",K,[t("form",{onSubmit:D(L,["prevent"])},[t("div",Q,[W,_(t("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>l.title=e),id:"post-title",type:"text",class:"form-control"},null,512),[[y,l.title]]),t("div",X,a(n(u).title),1),t("div",Y,[(s(!0),o(d,null,c((b=n(r))==null?void 0:b.title,e=>(s(),o("div",null,a(e),1))),256))])]),t("div",Z,[$,_(t("textarea",{"onUpdate:modelValue":i[1]||(i[1]=e=>l.content=e),id:"post-content",class:"form-control"},null,512),[[y,l.content]]),t("div",tt,a(n(u).content),1),t("div",et,[(s(!0),o(d,null,c((p=n(r))==null?void 0:p.content,e=>(s(),o("div",null,a(e),1))),256))])]),t("div",st,[ot,E(M,{modelValue:l.category_id,"onUpdate:modelValue":i[2]||(i[2]=e=>l.category_id=e),options:n(F),reduce:e=>e.id,label:"name",class:"form-control"},null,8,["modelValue","options","reduce"]),t("div",nt,a(n(u).category_id),1),t("div",lt,[(s(!0),o(d,null,c((f=n(r))==null?void 0:f.category_id,e=>(s(),o("div",null,a(e),1))),256))])]),t("div",it,[at,t("input",{onChange:i[3]||(i[3]=e=>l.thumbnail=e.target.files[0]),type:"file",class:"form-control",id:"thumbnail"},null,32),t("div",rt,[(s(!0),o(d,null,c((g=n(r))==null?void 0:g.thumbnail,e=>(s(),o("div",null,a(e),1))),256))])]),t("div",dt,[t("button",{disabled:n(m),class:"btn btn-primary"},[_(t("div",ut,null,512),[[N,n(m)]]),n(m)?(s(),o("span",mt,"Processing...")):(s(),o("span",_t,"Save"))],8,ct)])],40,O)])])])])}}};export{gt as default};
