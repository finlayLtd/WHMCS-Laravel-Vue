import{e as P,f as l,b as L,d as f,o as i,c as d,h as t,t as o,j as M,l as A,F as D,s as U,a as T,x as z,z as E,A as n,y as O}from"./app-ff5f8f42.js";import{c as W}from"./commonApis-cfe1d3ba.js";import{P as G}from"./Pagination-7ff4df24.js";import{N as Z}from"./NoPermission-aeaf2ede.js";const q={class:"dashboard"},H={key:0,class:"container"},J={class:"d-flex justify-content-between align-items-center title-button-wrapper"},K={class:"title mb-0"},Q={class:"sub-section server-list-tab"},R={class:"row justify-content-between align-items-center"},X={class:"row pe-0"},Y={class:"col-md-4 mb-4 mb-md-0"},x={class:"card-item"},tt={class:"balance-card-header main-balance-header"},st={class:"main-balance-wrapper"},et=t("div",{class:"balance-icon"},[t("img",{src:"assets/img/wallet.svg",alt:""})],-1),ot={class:"balance-title"},at={class:"balance"},lt={class:"creditTag"},nt={class:"balance-card-footer d-flex justify-content-end"},it={class:"sub-section server-list-tab"},ct={class:"row justify-content-between align-items-center"},dt={class:"row mb-3 mb-lg-5 pe-0"},rt={class:"col-md-3 sub-title pt-2"},ut={class:"col-md-9 d-flex justify-content-end pe-0 flex-wrap list-flex-nav"},mt={class:"sort-servers order-2 order-md-1"},vt={key:0,class:"sorting-items"},pt={class:"nav nav-pills three-pills mb-3 mb-md-0 order-1 order-md-2 mb-lg-0 flex-nowrap",id:"pills-tab",role:"tablist"},_t={class:"nav-item",role:"presentation"},ht={class:"nav-item",role:"presentation"},gt={class:"nav-item",role:"presentation"},bt={class:"tab-content",id:"pills-tabContent"},ft={class:"tab-pane fade show active",id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"},yt={class:"w-100 mb-5 support-table"},kt={class:"table"},$t={scope:"col"},Ct={scope:"col"},wt={scope:"col"},Pt={scope:"col"},At={scope:"col"},Dt={scope:"col",class:"text-center"},It={key:0},Bt={colspan:"6",style:{"text-align":"center"}},Nt={style:{"margin-top":"20px"}},St={class:"date-cell"},Ft={class:"date-cell"},Vt={class:"text-center"},jt=["onClick"],Lt=t("img",{src:"assets/img/eye-open.svg",class:"icon-password view-invoice"},null,-1),Mt=[Lt],Ut={class:"w-100 server-list-pagination"},Tt={key:0,class:"modal modal-balance"},zt={class:"modal-inner"},Et=t("img",{class:"close-dark",src:"assets/img/close.svg",alt:""},null,-1),Ot=t("img",{class:"close-light",src:"assets/img/close-light.svg",alt:""},null,-1),Wt=[Et,Ot],Gt={class:"modal-content"},Zt={class:"modal-header"},qt={class:"modal-title"},Ht={class:"modal-main"},Jt={class:"main-title"},Kt=E('<div class="modal-buttons"><button class="modal-payment"><img src="assets/img/bitcoin.png" alt=""> Bitcoin </button><button class="modal-payment"><img src="assets/img/litecoin.png" alt=""> LiteCoin </button><button class="modal-payment"><img src="assets/img/ethereum.png" alt=""> Ethereum </button><button class="modal-payment"><img src="assets/img/bitcoincash.png" alt=""> Bitcoincash </button><button class="modal-payment"><img src="assets/img/tether.png" alt=""> Tether USDT </button><button class="modal-payment"><img src="assets/img/zcash.png" alt=""> ZCash </button><button class="modal-payment"><img src="assets/img/monero.png" alt=""> Monero </button><button class="modal-payment"><img src="assets/img/bnb.png" alt=""> BinanceCoin </button><button class="modal-payment"><img src="assets/img/perfectmoney.png" alt=""> Perfectmoney </button></div>',1),Qt={class:"amounts"},Rt={class:"amount-footer"},Xt=t("span",null,"€10,00 - €1.000,00",-1),h=15,os={__name:"balance",setup(Yt){P().getUser();const u=l(null),g=W(),v=l(!1),b=l(!1),I=L(),p=f(()=>I.state.auth.user),m=l([]),c=l("All"),B=l(0),y=l(0),r=l({client_id:p.value.client_id,orderby:"",order:"",page:1}),k=()=>{n(!0),g.runGetApi("/get-invoices",r.value).then(s=>{n(!1),v.value=!1,m.value=s.data.invoices,y.value=s.data.totalresults,B.value=Math.ceil(y.value/h)}).catch(s=>{n(!1),console.log(s)})};function N(s){r.value.page=s}const S=()=>{n(!0),g.runPostApi("/add_funds_sso").then(s=>{n(!1),s.data.result=="success"&&(u.value.href=s.data.redirect_url,u.value.click())}).catch(s=>{n(!1),console.log(s)})},F=s=>{n(!0),g.runPostApi("/invoice_detail_sso",s).then(e=>{n(!1),e.data.result=="success"&&(u.value.href=e.data.redirect_url,u.value.click())}).catch(e=>{n(!1),console.log(e)})};k();function $(s){return new Date(s).toISOString().slice(0,10)}function V(s){return s=="Paid"?"successful-cell":s=="Unpaid"?"cancelled-cell":"in-progress-cell"}const C=l([]),j=f(()=>{let s;c.value==="All"?s=m.value:s=m.value.filter(a=>a.status===c.value);const e=f(()=>{const a=(r.value.page-1)*h,w=a+h;return s.slice(a,w)});return C.value[c.value]=Math.ceil(s.length/h),e.value});function _(s,e){r.value.orderby=s,r.value.order=e,k()}return P().getUser(),(s,e)=>(i(),d(D,null,[t("section",q,[p.value&&p.value.permissions.split(",").includes("invoices")?(i(),d("div",H,[t("div",J,[t("h2",K,o(s.$t("Balance")),1),t("a",{ref_key:"customLink",ref:u,style:{display:"none"},target:"_blank"},"Custom Link",512)]),t("div",Q,[t("div",R,[t("div",X,[t("div",Y,[t("div",x,[t("div",tt,[t("div",st,[et,t("div",ot,[t("h3",null,o(s.$t("Main_balance")),1)])]),t("div",at,[M(" €"),t("span",lt,o(p.value.credit.toFixed(2)),1)])]),t("div",nt,[t("button",{class:"btn-dark add-funds hover-dark-light",id:"addFunds",onClick:e[0]||(e[0]=a=>b.value=!0)},o(s.$t("Add_Funds")),1)])])])])])]),t("div",it,[t("div",ct,[t("div",dt,[t("h3",rt,o(s.$t("My_Invoices")),1),t("div",ut,[t("div",mt,[t("div",{id:"toggleButton",class:"sort-item-active btn-chevron chevron-dark",onClick:e[1]||(e[1]=a=>v.value=!v.value)},[t("span",null,o(s.$t("Sort_by"))+"   ",1)]),v.value?(i(),d("div",vt,[t("ul",null,[t("li",{onClick:e[2]||(e[2]=a=>_("date","desc"))},o(s.$t("Date_latest")),1),t("li",{onClick:e[3]||(e[3]=a=>_("date","asc"))},o(s.$t("Date_oldest")),1),t("li",{onClick:e[4]||(e[4]=a=>_("total","desc"))},o(s.$t("Price_highest")),1),t("li",{onClick:e[5]||(e[5]=a=>_("total","asc"))},o(s.$t("Price_lowest")),1)])])):A("",!0)]),t("ul",pt,[t("li",_t,[t("button",{class:"nav-link active",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#pills-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true",onClick:e[6]||(e[6]=a=>c.value="All")},o(s.$t("All")),1)]),t("li",ht,[t("button",{class:"nav-link",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:e[7]||(e[7]=a=>c.value="Paid")},o(s.$t("Paid")),1)]),t("li",gt,[t("button",{class:"nav-link",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:e[8]||(e[8]=a=>c.value="Unpaid")},o(s.$t("Unpaid")),1)])])])]),t("div",bt,[t("div",ft,[t("div",yt,[t("table",kt,[t("thead",null,[t("tr",null,[t("th",$t,o(s.$t("Invoice")),1),t("th",Ct,o(s.$t("Amount")),1),t("th",wt,o(s.$t("Invoice_Date")),1),t("th",Pt,o(s.$t("Due_Date")),1),t("th",At,o(s.$t("Status")),1),t("th",Dt,o(s.$t("View_Invoice")),1)])]),t("tbody",null,[!m.value||m.value.length===0?(i(),d("tr",It,[t("td",Bt,[t("h5",Nt,o(s.$t("No_invoice")),1)])])):(i(!0),d(D,{key:1},U(j.value,a=>(i(),d("tr",{key:a.id},[t("td",null,"INV-"+o(a.id),1),t("td",null,o(a.currencyprefix)+o(a.total),1),t("td",St,o($(a.date)),1),t("td",Ft,o($(a.duedate)),1),t("td",{class:O(V(a.status))},[t("span",null,o(s.$t(a.status)),1)],2),t("td",Vt,[t("a",{target:"_blank",onClick:w=>F(a.id)},Mt,8,jt)])]))),128))])])]),t("div",Ut,[T(G,{currentPage:r.value.page,totalPages:C.value[c.value],onPageChanged:N},null,8,["currentPage","totalPages"])])])])])])])):(i(),z(Z,{key:1}))]),b.value?(i(),d("div",Tt,[t("div",zt,[t("div",{class:"modal-close",onClick:e[9]||(e[9]=a=>b.value=!1)},Wt),t("div",Gt,[t("div",Zt,[t("div",qt,[t("h2",null,o(s.$t("Deposit")),1),t("h3",null,o(s.$t("Deposit_cryptocurrency")),1)])]),t("div",Ht,[t("div",Jt,[t("p",null,o(s.$t("Choose_Payment_method")),1)]),Kt,t("div",Qt,[t("div",Rt,[t("span",null,o(s.$t("Amount_of_one_deposit")),1),Xt])]),t("button",{class:"btn-dark d-block",onClick:e[10]||(e[10]=a=>S())},o(s.$t("Continue")),1)])])])])):A("",!0)],64))}};export{os as default};
